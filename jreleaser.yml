project:
  name: jreleaser
  description: Release Java projects quickly and easily with JReleaser
  longDescription: Release Java projects quickly and easily with JReleaser
  website: https://jreleaser.org
  authors:
    - Andres Almiray
  license: Apache-2.0
  java:
    groupId: org.jreleaser
    version: 8

release:
  github:
    username: aalmiray
    overwrite: true
    sign: true

signing:
  active: always
  armored: true

announce:
  twitter:
    active: release
  sdkman:
    active: release

distributions:
  jreleaser:
    java:
      mainClass: org.jreleaser.cli.Main
    brew:
      active: release
    scoop:
      active: release
    jbang:
      active: always
    artifacts:
      - path: apps/{{distributionName}}/build/distributions/{{distributionName}}-{{projectVersion}}.zip
        transform: '{{distributionName}}/{{distributionName}}-{{projectEffectiveVersion}}.zip'

  jreleaser-ant-tasks:
    extraProperties:
      sdkmanSkip: true
    artifacts:
      - path: plugins/{{distributionName}}/build/distributions/{{distributionName}}-{{projectVersion}}.zip
        transform: '{{distributionName}}/{{distributionName}}-{{projectEffectiveVersion}}.zip'

  jreleaser-tool-provider:
    type: SINGLE_JAR
    executable: jreleaser
    java:
      version: 11
    docker:
      active: always
      imageNames:
        - '{{repoOwner}}/{{projectName}}-slim:{{tagName}}'
        - '{{repoOwner}}/{{projectName}}-slim:latest'
      postCommands:
        - 'VOLUME /workspace'
      registries:
        - serverName: DEFAULT
          username: jreleaser
    artifacts:
      - path: apps/jreleaser-tool-provider/build/libs/jreleaser-tool-provider-{{projectVersion}}.jar
        transform: 'jreleaser-tool-provider/jreleaser-tool-provider-{{projectEffectiveVersion}}.jar'

files:
  artifacts:
    - path: VERSION
